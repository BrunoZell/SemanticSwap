# SemanticSwap

- [SemaniticSwap Specification](./specification.md)
- [Example user stories](./user-stories.md)
- [Market making stories](./market-making.md)

## Exchange Structure

Phases of value creation: ask > offer > order > deal > delivery > settlement

### Ask

Expression of wanting a certain (in the signed ask-message specified) service delivered. In the format of:

Asks represent the target of the emerging coordination.

First-principles style of ask enable a higher level of service and room for coordination optimization. Instead of committing to a specific procedure, you just commit to exactly what is important to you, with everything else left to be optimized. Market makers then analyze each asks and build offers.

### Offer

Expression of offering a certain service, expressed as an expected change in the future world. Offering a service implies stating the ability to deliver it.

Offers have either an explicit list of recipients, in which case they typically are personalized according to one or more of the recipients asks. Such personalized offers need to state _why_ and _how_ they would fulfill the ask. This is to ensure a high quality of personal orders, because with the why and how specified, it can automatically be checked for quality (e.g. does it physically make sense. What about history observations related to this coordination scheme? Are there undeclared user values that would disqualify the offer).

There are also _Public Offers_with no explicit receiver and no reference to specific asks. But they surely can select a set of possible asks they would fill (state why and how). Such offers form the network-wide index of possibilities (offer-side of the book). They are proactively generated by service providers and market makers to advertise their offerings.

Offers represent the possibilities of coordination.

### Order

$order = $orderer requests delivery of $offer.orderForm {"assigning all variables of the order form with constants"}

An order refers to a specific $offer and its orderForm, to give the $serviceProvider enough information on what to service provide.


### Deal

Counter-signing an `$order` with the key of that orders service provider (`$order.offer.provider`)

### Delivery

`$serviceProvider` does the required actions to change the observed world so that it matches the predicate stated in the signed `$deal`.

Anybody interested in the settlement of the signed `$deal` (typically `$serviceProvider` and `$user`) record relevant observations to make sure the happenings in the real world are accurately enough represented in the HGTP L0.

### Settlement

(Todo: import from [here](https://docs.google.com/document/d/1p-FsH-BSqPugMnhGaP9jW_VVy219gkEiKJAxCErHIno/edit#heading=h.d1zk4dhq1xvi))

The last phase of a deal is the final settlement. It takes observations of the external world as an input to measure value realization.

Measuring value realization:
- Constructing Assumed World State
- Examining Realization Of Values

## Market Makers

Market-makers compete in: Giving swap participants the most preferable opportunities according to their preferences

This usually comes with extracting as few resources as possible while assembling the match. While you can't extract less than what you spent on finding the match and still survive, any other more efficient market maker will out-bid you leaving you with no match at all. Thus, offers will tend to extract as little as possible.

The typical process a market maker uses in their automated system looks like this:

- Listening to ask flow
- Filtering for asks that market maker specializes in an can serve
- Generating according offers and send them to the user
- Possibly hedging domain-specific risks even before a deal is signed
- Waiting for orders targeting this market maker
- When acknowledged, sign the deal
- When not acknowledged, do deny or nothing, possibly paying a no-show fee as specified in the initial order
- Making sure to deliver on singed deals
- Recording evidence of delivery to later submit in the global layer zero and have the deal settle in the favor of the market maker

## User-defined value as unit of account

Explain why the idea of 'balances we have consensus over' is not relevant anymore. Instead, participants focus on the unfolding of reality and, when mapping their values on top of world observations, there is _Value Construction_ or at the very least no _Value Decay_ in their view, according to their value system.

## Optimization Process

Everyone [market makers] are able to propose arbitrary changes to the canonical global coordination plan. Which is to state an updated plan for one or more participants. Then each affected user needs to approve the proposal in order to include it into the global plan. Such a proposal over multiple users is atomic: all affected users must accept before all proposed coordination changes qualify for the global plan. Nothing qualifies until then.

Given the expectedly large amount of coordination proposals, most low-stake changes are accepted or rejected automatically by running a client side bot that decides based on (possibly undeclared) user values. Where more +EV plans are accepted and others are rejected. And only when the (subjective) possible downside is sufficiently small to not manually review it.

## Work & Investment

Explain that even with that shift of perspective, we still will have to 'work' and there still are things like 'risk', 'expected value', 'costs', 'negative/positive/zero-sum', 'investments', 'speculation', 'infomration asymetry', '(inprecise) abstractions on reality'

We propose people from now on will define 'work' as 'undesirable time spent'. Where the worker (who spends its time in an to him undesirable way) tries to minimize the amount of undesirable time he experiences. Thus, the new metric for a health economy is _an ever decreasing amount of undesirable human work_. Or to put it differenlt, people look to maximize their amount of available spare time and optimize it according to what they are most eager to do with that spare time.

## Specifying Contributor Values

We don't expect all people to be able to straight out specify the values in the format required by SemanticSwap.

While that format is technically required, there can be processes developed that autoamatically derive a value set for a user.

While there is not a clear right or wrong on such value identidication processes, we propose a social network that optimizes for high-quality face2face spare time is a good way to capture most of the users day-to-day values. Users will get asked questions about how they want to spend their time, requiring the users to express what they want and don't want. Based on those responses, the system looks through all of SemanticSwaps offers that could be a value-add for the user, and looks at all their friends current asks, to propose different schedules or ideas on how to go about the day, week, month, year. Then the user swipes right or left depending on how they like it. And the more of those oppinions (and final historic value realization) are collected throghout the use of the social network.

## Why Now

There are several technologies that just became mature enough to develop SemanticSwap in the way expressed here. This section expands on what those technologies are and how they are used in the implementation of SemanticSwap.

### Hypergraph Transfer Protocol (HGTP)

HGTP specifies a data standard for *any data type*, serving as a global layer zero for raw data. SemanticSwap uses that standard to refer to data emitted by external systems.

Those external systems are:
- Any blockchain
- Any distributed ledgers with consensus about a nodes canonical state
- Physical reality, as observed by sensors, categorized according to sensor specification
- Centralized APIs, prooven through zk'ed TLS session and the well-known received certificate
- Private data on contributos devices
- Realy any source of information you can possibly come up with, where a world model and according observation sessions need to be defined.

Because the data model of HGTP is structured on general mathematical foundations, it enables SemanticSwap to use that as a standard for all possible domain-specific data validation logic and must not be changed based on specifics of an economic transaction.

### Consellation Networks "Proof of Reputable Observation" (PRO)

Introduces possibility to reach consensus over external network states or reality, which essentially creates an arbitrage-free cyberspace that can be used to perform multi-phase transactions between systems of value.

In SemanticSwap, such a consensus is used to determine a deals delivery verdict. In case of an identified delivery failure, the required additional settlement is executed accordingly.

User-friendly service providers typically bet on successful delivery of their signed deals to give users a guarantee of a high-quality service.

### Information Economy MetaLanguage (IEML)

As a metadata system that is:

- semantically interoperable: to make sure your imagination of "ride sharing" is the same as my imagination of "ride sharing"
- computable: for the case of not having the same imagination of "ride sharing", where are the differences? How drastic are those differences? And when applied to a specific situation, how relevant are those different imaginations?

### [maybe] Interplanetary Linked Data (IPLD)

as an abstract data model for raw data.

### [maybe] Interplanetary File System (IPFS)

### [maybe] Clockwork

- An implementation of the Clockwork algorithm on HGTP via VDFs
- to establish a network-wide shared timestamp to enable time-sensitive conditions like TTLs for asks and orders, delivery windows

## Initial Domains

While the architecture of SemanticSwap allows the offering of arbitrary services, those services need to be defined in an according domain model.

This will be done on demand by both users and service providers depending on how they want to coordinate.

To bootstrap and kickstart the ecosystem, we picked a few domains where the efficency increase of SemanticSwap is most notable. As early adopters, we will focuse on these domains:

- Prediction markets on any HGTP global L0 data, specifically:
  - Establishing cash-settled onchain energy markets, starting with european intraday power
- Acquisition of crypto assets: Defining the consensus topology of high-value decentralized ledgers to make them compatible with the DAG L1.
- Ride sharing


## TODO

- Fully describe how different world perspectives are kept track of. Explain the idea of assumed world state
- Add the address to accept donations. And add the hint that donations will be compenstated accordingly in the genesis swap of SemanticSwap.
